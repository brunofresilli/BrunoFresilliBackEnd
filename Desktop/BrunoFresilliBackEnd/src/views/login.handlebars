<div class="box">
    <h1>Login</h1>
    <hr>

    <form class="box" method="post" action="/products">

        <label for="email">Email</label>
        <input type="email" name="email" id="email">

        <label for="password">Password</label>
        <input type="password" name="password" id="password">

        <button type="submit">Login</button>
    </form>
     <span>
        <a href="/api/sessions/github">
            <button>Entrar con Github</button>
        </a>
    </span>
    <br>
    <span><a href="/register" target="_self">Register</a></span>
</div>

{{#if failLogin}}
    <script type="text/javascript">
        alert('Login Failed!');
    </script>
{{/if}}
{{#if registerSuccess}}
    <script type="text/javascript">
        alert('Register Success!');
    </script>
{{/if}}
<script>
    fetch('/login', {
  method: 'POST',
  body: JSON.stringify({  }),
  headers: {
    'Content-Type': 'application/json'
  }
})
.then(response => response.json())
.then(data => {
  
  localStorage.setItem('token', data.token);
})
.catch(error => {
  console.error('Error durante el inicio de sesi√≥n:', error);
});
</script>
